<div class="row page">
    <div class="col-lg-12">
        <h1 class="page-header">Slot</h1>
    </div>
    <pp-spinner [isSpinnerLoad]="isDataLoaded"></pp-spinner>
    <div class="col-lg-12" *ngIf="!isDataLoaded">
        <form #slotForm="ngForm"
              (ngSubmit)="slotForm.valid && fnSaveSlot(slotObj)" novalidate>
            <fieldset class="col-md-12 fieldset">
                <legend class="fieldset-legend">Basic</legend>

                <div class="form-group"
                     [ngClass]="{'has-error': (slotForm.submitted || locker.touched) && !locker.valid}">
                    <label for="locker">Select locker<span class="text-danger">*</span></label>
                    <select id="locker" class="form-control" name="locker" [(ngModel)]="slotObj.lockerId"
                            #locker="ngModel" required>
                        <option [ngValue]="item._id" *ngFor="let item of lockersArr">{{item.name}}</option>
                    </select>
                    <div *ngIf="(slotForm.submitted || locker.touched) && !locker.valid">
                        <small class="text-danger" *ngIf="locker.errors['required']">Locker is required.</small>
                    </div>
                </div>

                <div class="form-group">
                    <label for="type">Select type</label>
                    <select id="type" class="form-control" name="role" [(ngModel)]="slotObj.type">
                        <option value="SMALL">SMALL</option>
                        <option value="MEDIUM">MEDIUM</option>
                        <option value="LARGE">LARGE</option>
                    </select>
                </div>
            </fieldset>

            <div class="form-group">
                <button class="btn btn-primary" type="submit">
                    {{slotObj._id ? 'Update Slot' : 'Create Slot'}}
                </button>
                <button class="btn btn-warning" [routerLink]="['/slots']">Cancel</button>
            </div>
        </form>
    </div>
</div>
